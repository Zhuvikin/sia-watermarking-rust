import React, { useEffect, useState } from 'react';
import './App.css';
import init, { watermark_image, WatermarkedImageWeb } from 'react-image';
import WatermarkingPreview from './WatermarkingPreview/WatermarkingPreview';

const decode = (base64_string: string) =>
  Uint8Array.from(atob(base64_string), c => c.charCodeAt(0));

const testImage1 =
  '/9j/4AAQSkZJRgABAQEBLAEsAAD/4QkiRXhpZgAASUkqAAgAAAAIAA4BAgASAAAAbgAAABIBAwABAAAAAQAAABoBBQABAAAAgAAAABsBBQABAAAAiAAAACgBAwABAAAAAgAAADEBAgANAAAAkAAAADIBAgAUAAAAngAAAGmHBAABAAAAsgAAAOoAAABDcmVhdGVkIHdpdGggR0lNUAAsAQAAAQAAACwBAAABAAAAR0lNUCAyLjEwLjMyAAAyMDIyOjA3OjE4IDIzOjQ4OjE3AAIAhpIHABkAAADQAAAAAaADAAEAAAABAAAAAAAAAAAAAAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVAACQD+AAQAAQAAAAEAAAAAAQQAAQAAAAABAAABAQQAAQAAAAABAAACAQMAAwAAAFwBAAADAQMAAQAAAAYAAAAGAQMAAQAAAAYAAAAVAQMAAQAAAAMAAAABAgQAAQAAAGIBAAACAgQAAQAAALcHAAAAAAAACAAIAAgA/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAEAAQADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD5/ooooAKKKKACiiigAooooA6SiiivPPrwooooA2aKKK4z6cKKKKACiiigAooooAxqKKK7D5gKKKKAObooor0D5AKKKKACiiigAooooAKKKKACiiigAooooAKKKKAOkooorzz68KKKKANmiiiuM+nCiiigAooooAKKKKAMaiiiuw+YCiiigDm6KKK9A+QCiiigAooooAKKKKACiiigAooooA3aKKK4j6YKKKKAOuoooryD9FCiiigBaKKKk2CiiigAooooAKKKKAEoooqjEKKKKAORooor1z86CiiigDCooortPmQooooAKKKKACiiigDdoooriPpgooooA66iiivIP0UKKKKAFoooqTYKKKKACiiigAooooASiiiqMQooooA5GiiivXPzoKKKKAMKiiiu0+ZCiiigAooooAKKKKAPQaKKK9k/QQooooA6GiiivTPogooooA2qKKK8k8wKKKKAO5ooor8oPmwooooAkooorxiAooooA89ooor6I5gooooA8Iooor7g+fCiiigAooooAKKKKAPQaKKK9k/QQooooA6GiiivTPogooooA2qKKK8k8wKKKKAO5ooor8oPmwooooAkooorxiAooooA89ooor6I5gooooA8Iooor7g+fCiiigDQooor7c5gooooA7qiiivfPuQooooA6SiiiuA+qCiiigD3qiiivgT8xCiiigDRooorxjmCiiigDIooor8iO8KKKKAOdooor0T5MKKKKAPDaKKK+5PNCiiigDgaKKK/Wj6MKKKKAO6ooor3z7kKKKKAOkooorgPqgooooA96ooor4E/MQooooA0aKKK8Y5gooooAyKKKK/IjvCiiigDnaKKK9E+TCiiigDw2iiivuTzQooooA4qiiiv3w90KKKKALlFFFembhRRRQB7vRRRXwJ9SFFFFAHsdFFFfInzwUUUUAFFFFABRRRQBz9FFFfEHMFFFFAHnlFFFeSfmgUUUUAc7RRRXpnWFFFFAHj1FFFf0mfdBRRRQBcooor0zcKKKKAPd6KKK+BPqQooooA9jooor5E+eCiiigAooooAKKKKAOfooor4g5gooooA88oooryT80CiiigDnaKKK9M6wooooA8dooor+jz7sKKKKAJaKKK9wyCiiigDvKKKK+ePngooooA94ooor4Q4gooooASiiigAooooA5Ciiivij5wKKKKAKlFFFfKGoUUUUAc9RRRXpnrhRRRQB5FRRRX9Gn3QUUUUAS0UUV7hkFFFFAHeUUUV88fPBRRRQB7xRRRXwhxBRRRQAlFFFABRRRQByFFFFfFHzgUUUUAVKKKK+UNQooooA56iiivTPXCiiigDxeiiiv2I/QQooooAv0UUV96coUUUUAOooorpJCiiigD3Oiiivgz87CiiigDbooor5c8sKKKKAMmiiivyo7AooooAgooorQ6AooooA8rooor6s+1CiiigDkaKKK/RD2wooooAv0UUV96coUUUUAOooorpJCiiigD3Oiiivgz87CiiigDbooor5c8sKKKKAMmiiivyo7AooooAgooorQ6AooooA8rooor6s+1CiiigDhKKKK9o+iCiiigCxRRRXtGYUUUUAWqKKK+mMAooooASiiiuMYUUUUAdzRRRX5SfOhRRRQBeooorA5gooooA46iiivYPoAooooA5iiiivRPVCiiigAooooAKKKKALFFFFe0ZhRRRQBaooor6YwCiiigBKKKK4xhRRRQB3NFFFflJ86FFFFAF6iiisDmCiiigDjqKKK9g+gCiiigDmKKKK9E9UKKKKAP/2QD/4Q2SaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdEV2dD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlRXZlbnQjIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6OGMxMzNkZmYtMWY2ZS00MWMzLWI0MDEtZjQ5ZTJiMjk3NzllIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOmYzM2Q4OTc0LTY0ZjAtNGYzZC04YTg3LTEyZTQxZWMxYTA1NyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOmIzYmZjNGQxLTRkNTEtNGQxNS05YjgyLTg5ZGQ3OTQxOWI2NCIgZGM6Rm9ybWF0PSJpbWFnZS9qcGVnIiBHSU1QOkFQST0iMi4wIiBHSU1QOlBsYXRmb3JtPSJNYWMgT1MiIEdJTVA6VGltZVN0YW1wPSIxNjU4MTc3MzAwMjY1NTI2IiBHSU1QOlZlcnNpb249IjIuMTAuMzIiIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIiB4bXA6TWV0YWRhdGFEYXRlPSIyMDIyOjA3OjE4VDIzOjQ4OjE3KzAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyMjowNzoxOFQyMzo0ODoxNyswMzowMCI+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDpjaGFuZ2VkPSIvIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjE0OTI3ZDNhLWE0YmMtNDMzNi04NTQxLWMyZmE2OTUyYzA1OCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChNYWMgT1MpIiBzdEV2dDp3aGVuPSIyMDIyLTA3LTE2VDEyOjI2OjEzKzAzOjAwIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6Y2hhbmdlZD0iLyIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MjcyN2M3NS1lMjk0LTRkYjUtYTM5Ni1lMzVmNDg5NTZlMzEiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTWFjIE9TKSIgc3RFdnQ6d2hlbj0iMjAyMi0wNy0xOFQyMzo0ODoyMCswMzowMCIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPD94cGFja2V0IGVuZD0idyI/Pv/iArBJQ0NfUFJPRklMRQABAQAAAqBsY21zBDAAAG1udHJSR0IgWFlaIAfmAAcAEgAUAC8ANmFjc3BBUFBMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD21gABAAAAANMtbGNtcwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADWRlc2MAAAEgAAAAQGNwcnQAAAFgAAAANnd0cHQAAAGYAAAAFGNoYWQAAAGsAAAALHJYWVoAAAHYAAAAFGJYWVoAAAHsAAAAFGdYWVoAAAIAAAAAFHJUUkMAAAIUAAAAIGdUUkMAAAIUAAAAIGJUUkMAAAIUAAAAIGNocm0AAAI0AAAAJGRtbmQAAAJYAAAAJGRtZGQAAAJ8AAAAJG1sdWMAAAAAAAAAAQAAAAxlblVTAAAAJAAAABwARwBJAE0AUAAgAGIAdQBpAGwAdAAtAGkAbgAgAHMAUgBHAEJtbHVjAAAAAAAAAAEAAAAMZW5VUwAAABoAAAAcAFAAdQBiAGwAaQBjACAARABvAG0AYQBpAG4AAFhZWiAAAAAAAAD21gABAAAAANMtc2YzMgAAAAAAAQxCAAAF3v//8yUAAAeTAAD9kP//+6H///2iAAAD3AAAwG5YWVogAAAAAAAAb6AAADj1AAADkFhZWiAAAAAAAAAknwAAD4QAALbEWFlaIAAAAAAAAGKXAAC3hwAAGNlwYXJhAAAAAAADAAAAAmZmAADypwAADVkAABPQAAAKW2Nocm0AAAAAAAMAAAAAo9cAAFR8AABMzQAAmZoAACZnAAAPXG1sdWMAAAAAAAAAAQAAAAxlblVTAAAACAAAABwARwBJAE0AUG1sdWMAAAAAAAAAAQAAAAxlblVTAAAACAAAABwAcwBSAEcAQv/bAEMAAwICAwICAwMDAwQDAwQFCAUFBAQFCgcHBggMCgwMCwoLCw0OEhANDhEOCwsQFhARExQVFRUMDxcYFhQYEhQVFP/bAEMBAwQEBQQFCQUFCRQNCw0UFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFP/+ABRDcmVhdGVkIHdpdGggR0lNUAD/wgARCAAIAAgDAREAAhEBAxEB/8QAFAABAAAAAAAAAAAAAAAAAAAABv/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAARZ//8QAFhABAQEAAAAAAAAAAAAAAAAABAUG/9oACAEBAAEFAo5IKsl//8QAIBEAAQIFBQAAAAAAAAAAAAAAAQMEBREhAAIGMVKR8P/aAAgBAwEBPwGIarVQaYQxBtUjjQme8/dX/8QAHxEAAAUEAwAAAAAAAAAAAAAAEgMEBREAAQIGUWFx/9oACAECAQE/AdpQ2bjE5zdmIUdi58iv/8QAHRAAAQIHAAAAAAAAAAAAAAAAAxIAAgQRFCEyYv/aAAgBAQAGPwI9wRM5Djaien//xAAaEAABBQEAAAAAAAAAAAAAAAAxAAERIWHR/9oACAEBAAE/ISQAAJbV8X//2gAMAwEAAgADAAAAEB//xAAaEQEAAgMBAAAAAAAAAAAAAAABETFBACGB/9oACAEDAQE/EGGICjZZyDHGfW//xAAZEQEBAQADAAAAAAAAAAAAAAABESExQWH/2gAIAQIBAT8QjGLtZRlDy4ku6k//xAAZEAEAAwEBAAAAAAAAAAAAAAABESFBAFH/2gAIAQEAAT8QwKmnIBC3ZY2eJ7//2Q==';

const testImage2 =
  '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';

function App() {
  const [watermarkedImage1, setWatermarkedImage1]: [
    WatermarkedImageWeb | undefined,
    React.Dispatch<React.SetStateAction<WatermarkedImageWeb | undefined>>,
  ] = useState();

  const [watermarkedImage2, setWatermarkedImage2]: [
    WatermarkedImageWeb | undefined,
    React.Dispatch<React.SetStateAction<WatermarkedImageWeb | undefined>>,
  ] = useState();

  useEffect(() => {
    init().then(() => {
      setWatermarkedImage1(watermark_image(decode(testImage1)));
      setWatermarkedImage2(watermark_image(decode(testImage2)));
    });
  }, []);

  return (
    <div>
      <WatermarkingPreview image={watermarkedImage1} />
      <WatermarkingPreview image={watermarkedImage2} />
    </div>
  );
}

export default App;
